/*! PopUp Pro - v4.6.1
 * http://premium.wpmudev.org/
 * Copyright (c) 2014; * Licensed GPLv2+ */
jQuery(function(){function e(){var e=jQuery(".meta-box-sortables"),i=jQuery(".postbox .hndle");e.length&&(e.sortable({disabled:!0}),i.css("cursor","pointer"))}function i(){var e,i,o=jQuery("#submitdiv"),n=jQuery("#post-body"),a=jQuery("body"),t=20;if(o.length){i=o.position().top;var s=function(){a.hasClass("sticky-submit")||(a.addClass("sticky-submit"),o.css({marginTop:0}),o.find(".sticky-actions").show(),o.find(".non-sticky").hide())},l=function(){a.hasClass("sticky-submit")&&(a.removeClass("sticky-submit"),o.find(".sticky-actions").hide(),o.find(".non-sticky").show())};jQuery(window).resize(function(){var e=850>=jQuery(window).width();e?a.hasClass("po-small")||a.addClass("po-small"):a.hasClass("po-small")&&(a.removeClass("po-small"),l())}).scroll(function(){n.hasClass("columns-1")||a.hasClass("po-small")?(e=jQuery(window).scrollTop()-i,e>0?s():l()):(e=jQuery(window).scrollTop()-i+t,e>0?o.css({marginTop:e}):o.css({marginTop:0}))}),window.setTimeout(function(){jQuery(window).trigger("scroll")},100)}}function o(){var e=jQuery(".colorpicker");if(e.length&&"function"==typeof e.wpColorPicker){var i=function i(e){var i=jQuery(e.target),o=i.closest(".wp-picker-container"),n=o.find(".colorpicker"),a=jQuery(".colorpicker");o.length&&(a=a.not(n)),a.each(function(){var e=jQuery(this),i=e.closest(".wp-picker-container");e.iris("hide"),e.hide(),i.find(".wp-picker-clear").addClass("hidden"),i.find(".wp-picker-open").removeClass("wp-picker-open")})};e.wpColorPicker(),jQuery(document).on("mousedown",i),jQuery(document).on("click",i),jQuery(document).on("mouseup",i)}}function n(){var e=jQuery("#po-custom-colors"),i=jQuery("#po-custom-size"),o=jQuery("[name=po_display]"),n=jQuery("#po-can-hide"),a=jQuery("#po-close-hides");if(e.length){var t=function t(){var e,i=jQuery(this),o=i.data("toggle"),n=jQuery(o),a=i.data("or"),t=i.data("and"),s=!1;a?(e=jQuery(a),s=e.filter(":checked").length>0):t?(e=jQuery(t),s=e.length===e.filter(":checked").length):s=i.prop("checked"),s?(n.removeClass("inactive"),n.find("input,select,textarea,a").prop("readonly",!1).removeClass("disabled")):(n.addClass("inactive"),n.find("input,select,textarea,a").prop("readonly",!0).addClass("disabled")),n.addClass("inactive-anim")},s=function s(){var e=jQuery(this),i=e.attr("name"),o=jQuery('[name="'+i+'"]');o.each(function(){t.call(this)})},l=function l(){jQuery(".slider").each(function(){var e=jQuery(this),i=e.closest(".slider-wrap"),o=e.data("input"),n=i.find(o+"min"),a=i.find(o+"max"),t=i.find(".slider-min-input"),s=i.find(".slider-min-ignore"),l=i.find(".slider-max-input"),r=i.find(".slider-max-ignore"),d=e.data("min"),c=e.data("max");isNaN(d)&&(d=0),isNaN(c)&&(c=9999),n.prop("readonly",!0),a.prop("readonly",!0);var u=function u(e,i){n.val(e),a.val(i),e===d?(t.hide(),s.show()):(t.show(),s.hide()),i===c?(l.hide(),r.show()):(l.show(),r.hide())};e.slider({range:!0,min:d,max:c,values:[n.val(),a.val()],slide:function(e,i){u(i.values[0],i.values[1])}}),u(n.val(),a.val())})};e.click(t),i.click(t),n.click(t),a.click(t),o.click(s),t.call(e),t.call(i),t.call(n),t.call(a),o.each(function(){t.call(jQuery(this))}),l()}}function a(){var e=jQuery("#meta-rules .all-rules"),i=jQuery("#meta-rules .active-rules");if(e.length){var o=function o(e){var i=jQuery(e.target),o=i.find("input.wpmui-toggle-checkbox");if(!i.closest(".wpmui-toggle").length)return i.hasClass("inactive")?!1:(o.trigger("click"),void 0)},n=function n(){var e=jQuery(this),o=e.closest(".rule"),n=e.data("form"),t=i.find(n),s=e.prop("checked");s?(o.removeClass("off").addClass("on"),t.removeClass("off").addClass("on open")):(o.removeClass("on").addClass("off"),t.removeClass("on").addClass("off")),a(e,s)},a=function a(o,n){var a,t,s,l=o.data("exclude"),r=l?l.split(","):[];for(a=r.length-1;a>=0;a-=1)t=e.find(".rule-"+r[a]),s=i.find("#po-rule-"+r[a]),t.hasClass("on")||(t.prop("disabled",n),n?(t.addClass("inactive off").removeClass("on"),s.addClass("off").removeClass("on")):t.removeClass("inactive off"))},t=function t(){var e=jQuery(this),i=e.closest(".rule");i.toggleClass("open")};e.find("input.wpmui-toggle-checkbox").click(n),e.find(".rule").click(o),i.on("click",".rule-title,.rule-toggle",t),e.find(".rule.on input.wpmui-toggle-checkbox").each(function(){a(jQuery(this),!0)}),jQuery(".init-loading").removeClass("wpmui-loading")}}function t(){var e,i=jQuery(".content-image"),o=i.find(".add_image"),n=i.find(".featured-img"),a=i.find(".reset"),t=i.find(".po-image"),s=i.find(".img-preview"),l=i.find(".lbl-empty"),r=i.find(".img-pos"),d=function d(e){t.val(e),s.attr("src",e).show(),l.hide(),r.show(),n.addClass("has-image")},c=function c(){t.val(""),s.attr("src","").hide(),l.show(),r.hide(),n.removeClass("has-image")},u=function u(i){return i.preventDefault(),e?(e.open(),void 0):(e=wp.media.frames.file_frame=wp.media({title:o.attr("data-title"),button:{text:o.attr("data-button")},multiple:!1}),e.on("select",function(){var i=e.state().get("selection").first().toJSON();d(i.url)}),e.open(),void 0)},p=function p(){var e=jQuery(this);r.find(".option").removeClass("selected"),e.addClass("selected")};o.on("click",u),a.on("click",c),r.on("click",".option",p)}function s(){var e,i=jQuery('select[name="action"] '),o=jQuery('select[name="action2"] ');if(i.length&&"object"==typeof window.po_bulk)for(e in window.po_bulk)jQuery("<option>").val(e).text(window.po_bulk[e]).appendTo(i).clone().appendTo(o)}function l(){var e=jQuery("table.posts"),i=e.find("#the-list");if(i.length){var o=function o(o,n){if(e.removeClass("wpmui-loading"),n)for(var a in o)o.hasOwnProperty(a)&&i.find("#post-"+a+" .the-pos").text(o[a])},n=function n(){var n,a=i.find("tr"),t=[];for(n=0;a.length>n;n+=1)t.push(jQuery(a[n]).attr("id"));e.addClass("wpmui-loading"),wpmUi.ajax(null,"po-ajax").data({"do":"order",order:t}).ondone(o).load_json()};i.sortable({placeholder:"ui-sortable-placeholder",axis:"y",handle:".column-po_order",helper:"clone",opacity:.75,update:n}),i.disableSelection()}}function r(){var e=jQuery(document),i=jQuery("#wpcontent"),o=function o(e){var o=jQuery(this),n=o.data("id");return e.preventDefault(),void 0===window.inc_popup?!1:(i.addClass("wpmui-loading"),window.inc_popup.load(n),!1)},n=function n(e){var o,n=(jQuery(this),jQuery("#post")),a=wpmUi.ajax();return e.preventDefault(),void 0===window.inc_popup?!1:(o=a.extract_data(n),i.addClass("wpmui-loading"),window.inc_popup.load(0,o),!1)},a=function a(e,o){i.removeClass("wpmui-loading"),o.init()};e.on("click",".posts .po-preview",o),e.on("click","#post .preview",n),e.on("popup-initialized",a)}jQuery("body.post-type-inc_popup").length&&(jQuery("body.post-php").length||jQuery("body.post-new-php").length?(e(),i(),o(),n(),a(),r(),t(),wpmUi.upgrade_multiselect()):jQuery("body.edit-php").length&&(l(),s(),r()))});